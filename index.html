<!-- 🔁 Ritual Engine by Damien Edward Featherstone // Vibe Coding Protocol™ // No_Gas_Labs™ -->
<!-- 🧬 Nexus Shrine v1.0 | Damien Edward Featherstone // No_Gas_Labs™ Ritual Engine -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nexus Shrine v1.0 – The Fivefold Ritual Engine</title>
<style>
  body, html { margin:0; padding:0; font-family: sans-serif; background:#111; color:#eee; }
  header { text-align:center; padding:1em; font-size:1.2em; font-weight:bold; }
  select { margin:0.5em; padding:0.5em; }
  .hidden { display:none; }
  .mode-container { padding:1em; }
  button { margin:0.5em 0; padding:0.5em 1em; font-weight:bold; border:none; cursor:pointer; }
  #memory-log { max-height:150px; overflow-y:auto; background:#222; padding:0.5em; margin-top:1em; }
  .log-entry { margin-bottom:0.5em; }
  .icon { margin-right:0.3em; }
  /* Mode-specific styling */
  #mode-echo { color:#d0a4ff; }
  #mode-grief { color:#90d0ff; }
  #mode-oracle { color:#ffda75; }
  #mode-town { color:#ff7676; }
  #mode-bridge { color:#a2f7ff; }
  .glow { box-shadow:0 0 10px rgba(255,255,255,0.4); }
</style>
</head>
<body>
<header>Nexus Shrine v1.0 – The Fivefold Ritual Engine</header>

<div style="text-align:center;">
  <label for="mode-selector">Select Ritual:</label>
  <select id="mode-selector">
    <option value="echo">🌀 EchoNest</option>
    <option value="grief">💧 GriefShrine</option>
    <option value="oracle">🔮 ProphecyDeck</option>
    <option value="town">⚖️ TownSquare</option>
    <option value="bridge">🌉 BridgeShrine</option>
  </select>
</div>

<div id="mode-echo" class="mode-container">
  <h2>🌀 EchoNest Shrine</h2>
  <p>XP: <span id="echo-xp">0</span></p>
  <button id="echo-prophecy">Reveal Prophecy</button>
  <div id="echo-prophecies"></div>
</div>

<div id="mode-grief" class="mode-container hidden">
  <h2>💧 GriefShrine</h2>
  <p>Release Points: <span id="grief-xp">0</span></p>
  <button id="grief-speak">Speak Grief</button>
  <button id="grief-reset">Reset Ceremony</button>
  <div id="grief-messages"></div>
</div>

<div id="mode-oracle" class="mode-container hidden">
  <h2>🔮 ProphecyDeck</h2>
  <button id="oracle-draw">Draw Prophecy</button>
  <button id="oracle-reset">Reset Deck</button>
  <button id="oracle-copy">Copy All</button>
  <div id="oracle-scroll"></div>
</div>

<div id="mode-town" class="mode-container hidden">
  <h2>⚖️ TownSquare Shrine</h2>
  <p>Civic Influence: <span id="town-xp">0</span></p>
  <button id="town-propose">Propose Policy</button>
  <button id="town-support">Gain Support</button>
  <button id="town-debate">Trigger Debate</button>
  <button id="town-export">Export Campaign Log</button>
  <div id="town-log"></div>
</div>

<div id="mode-bridge" class="mode-container hidden">
  <h2>🌉 BridgeShrine</h2>
  <select id="bridge-chain">
    <option value="EOS">EOS</option>
    <option value="SUI">SUI</option>
    <option value="TON">TON</option>
  </select>
  <button id="bridge-now">Bridge Now</button>
  <button id="bridge-copy">Copy Bridge Log</button>
  <div id="bridge-log"></div>
</div>

<div id="memory-log"></div>

<script>
  const thread = [];
  const modeSelector = document.getElementById('mode-selector');
  const memoryLog = document.getElementById('memory-log');

  /* Shared Logging */
  function logEvent(icon, text) {
    const entry = document.createElement('div');
    entry.className = 'log-entry';
    entry.innerHTML = `<span class="icon">${icon}</span>${new Date().toLocaleTimeString()}: ${text}`;
    memoryLog.prepend(entry);
    thread.push({ icon, text, time: new Date() });
  }

  /* Mode Switching */
  modeSelector.addEventListener('change', () => {
    document.querySelectorAll('.mode-container').forEach(div => div.classList.add('hidden'));
    document.getElementById('mode-' + modeSelector.value).classList.remove('hidden');
  });

  /* EchoNest Mode */
  let echoXP = 0;
  const echoProphecies = [
    "Your reflection echoes beyond time.",
    "The next loop reveals a hidden path.",
    "Growth begins with a single spark.",
    "Memory threads weave new futures.",
    "Listen: the cosmos whispers your name.",
    "In silence, your power returns.",
    "Another echo awaits your call.",
    "Your steps will not be forgotten.",
    "Each leap births a new horizon.",
    "The glitch is merely transformation."
  ];
  document.body.addEventListener('click', () => {
    if (modeSelector.value === 'echo') {
      echoXP += 33;
      document.getElementById('echo-xp').textContent = echoXP;
      if (echoXP >= 1000) {
        document.body.classList.add('glow');
        setTimeout(() => document.body.classList.remove('glow'), 500);
        logEvent('🌀', 'Rebirth reached 1000 XP! XP reset.');
        echoXP = 0;
        document.getElementById('echo-xp').textContent = 0;
      }
    }
  });
  document.getElementById('echo-prophecy').addEventListener('click', () => {
    const line = echoProphecies[Math.floor(Math.random() * echoProphecies.length)];
    const div = document.createElement('div');
    div.textContent = line;
    document.getElementById('echo-prophecies').prepend(div);
    logEvent('🔮', 'Prophecy: ' + line);
  });

  /* GriefShrine Mode */
  let griefXP = 0;
  const griefLines = [
    "May your sorrow flow like gentle rain.",
    "In memory, we find soft release.",
    "Let go, let the echo fade.",
    "Every tear waters the seeds of tomorrow.",
    "Silence holds the space for healing.",
    "Grief is the shadow of love.",
    "Your heart knows when to let go.",
    "Through pain, new blossoms bloom.",
    "Breathe out the ache of yesterday.",
    "Embrace the quiet between beats.",
    "Across the void, your grief is heard.",
    "Whispers of release guide you home."
  ];
  document.body.addEventListener('click', () => {
    if (modeSelector.value === 'grief') {
      griefXP++;
      document.getElementById('grief-xp').textContent = griefXP;
    }
  });
  document.getElementById('grief-speak').addEventListener('click', () => {
    const line = griefLines[Math.floor(Math.random() * griefLines.length)];
    const div = document.createElement('div');
    div.textContent = line;
    document.getElementById('grief-messages').prepend(div);
    logEvent('💧', 'Grief spoken: ' + line);
  });
  document.getElementById('grief-reset').addEventListener('click', () => {
    logEvent('💤', 'Ceremony reset.');
    document.body.style.transition = 'background 3s';
    document.body.style.background = '#000';
    setTimeout(() => {
      document.body.style.background = '#111';
    }, 3000);
  });

  /* ProphecyDeck Mode */
  const deckLines = new Array(33).fill(0).map((_, i) => `Prophecy ${i + 1}: A path unfolds.`);
  document.getElementById('oracle-draw').addEventListener('click', () => {
    const line = deckLines[Math.floor(Math.random() * deckLines.length)];
    const div = document.createElement('div');
    div.textContent = line;
    document.getElementById('oracle-scroll').prepend(div);
    logEvent('🃏', 'Drawn: ' + line);
  });
  document.getElementById('oracle-reset').addEventListener('click', () => {
    document.getElementById('oracle-scroll').innerHTML = '';
    logEvent('♻️', 'Deck reset.');
  });
  document.getElementById('oracle-copy').addEventListener('click', () => {
    const text = [...document.getElementById('oracle-scroll').children].map(d => d.textContent).join('\n');
    navigator.clipboard.writeText(text);
    logEvent('📋', 'Deck copied to clipboard.');
  });

  /* TownSquare Mode */
  let townXP = 0;
  document.getElementById('town-propose').addEventListener('click', () => {
    townXP += 10;
    document.getElementById('town-xp').textContent = townXP;
    addTownLog('Proposed new policy.');
  });
  document.getElementById('town-support').addEventListener('click', () => {
    townXP += 5;
    document.getElementById('town-xp').textContent = townXP;
    addTownLog('Gained support from citizens.');
  });
  document.getElementById('town-debate').addEventListener('click', () => {
    townXP += 15;
    document.getElementById('town-xp').textContent = townXP;
    addTownLog('Triggered a lively debate.');
  });
  document.getElementById('town-export').addEventListener('click', () => {
    const text = [...document.getElementById('town-log').children].map(d => d.textContent).join('\n');
    navigator.clipboard.writeText(text);
    logEvent('📋', 'Campaign log copied.');
  });
  function addTownLog(message) {
    const div = document.createElement('div');
    div.textContent = message;
    document.getElementById('town-log').prepend(div);
    logEvent('⚖️', message);
    if (townXP >= 1776) {
      logEvent('🎆', 'Revolution Begins!');
      townXP = 0;
      document.getElementById('town-xp').textContent = townXP;
    }
  }

  /* BridgeShrine Mode */
  document.getElementById('bridge-now').addEventListener('click', () => {
    const chain = document.getElementById('bridge-chain').value;
    const message = 'Bridged across ' + chain + '.';
    const div = document.createElement('div');
    div.textContent = message;
    document.getElementById('bridge-log').prepend(div);
    logEvent('🌉', message);
  });
  document.getElementById('bridge-copy').addEventListener('click', () => {
    const text = [...document.getElementById('bridge-log').children].map(d => d.textContent).join('\n');
    navigator.clipboard.writeText(text);
    logEvent('📋', 'Bridge log copied.');
  });
</script>
</body>
</html>
